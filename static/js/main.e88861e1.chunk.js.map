{"version":3,"sources":["components/Spinner/Ring.tsx","components/Feedback/index.tsx","components/Spinner/index.tsx","components/CheckButton.tsx","components/App/reducer.ts","components/playerBridge/style/close.svg","components/playerBridge/index.tsx","components/dialogs/BaseDialog.tsx","common/images/star-empty.svg","components/dialogs/IntroDialog.tsx","common/images/star-full.svg","components/App/index.tsx","components/dialogs/CompleteDialog.tsx","serviceWorker.ts","index.tsx"],"names":["Phase","FeedbackMode","Ring","props","disabled","initialMove","onCardIndexChanged","caretRef","useRef","spinning","ref","items","useMemo","shuffle","data","update","useCallback","transitionTime","phase","firstAndLast","parent","current","caret","halfItems","Math","floor","length","counter","i","children","index","element","style","transition","abs","visibility","top","goUp","cardAtIndexIsDisabled","move","goDown","handleCaretChanged","node","parseInt","getAttribute","cardIndex","amount","setTimeout","BASE_ANIMATION_TIME","goal","interval","setInterval","clearInterval","mid","time","first","last","classList","contains","useEffect","parentNode","indexOf","add","remove","className","onClick","event","target","clientY","getBoundingClientRect","map","item","image","key","backgroundImage","original-index","replace","originalArray","temporaryValue","array","Object","assign","currentIndex","randomIndex","random","Spinner","correct","onRing0IndexChanged","onRing1IndexChanged","onRing2IndexChanged","risks","events","effects","CheckButton","initialState","reducer","state","action","type","0","1","2","Feedback","mode","onContinue","_extends","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","_ref3","_ref4","cx","cy","r","_ref5","d","transform","_ref6","_ref7","_ref8","x1","y1","x2","y2","_ref9","_ref","svgRef","title","width","height","viewBox","undefined","ForwardRef","forwardRef","PlayerBridge","gameDataReceived","send","payload","window","webkit","stringifiedMessageObj","JSON","stringify","messageHandlers","cordova_iab","postMessage","process","REACT_APP_PLAYER_MODE","setGameData","gameData","GAMEDATA","getGameData","addEventListener","msg","BaseDialog","IntroDialog","headerText","descriptionText","starsToGainText","onStart","startText","GameState","CompleteDialog","total","mistakes","score","max","scoreText","toString","result","push","renderStars","onTryAgain","tryAgainText","onExit","exitText","App","useState","intro","setState","setCorrect","setMistakes","useReducer","selectedItems","dispatch","handleRing0CardChanged","handleRing1CardChanged","handleRing2CardChanged","handleContinue","normal","handleStart","content","complete","translations","reduce","acc","translation","value","wrong","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.e88861e1.chunk.js","sourcesContent":["import React, { useMemo, useRef, useEffect, useCallback } from 'react';\n\ninterface Props {\n  data: string[];\n  disabled?: number[]; // indexes of disabled\n  className: string;\n  image?: boolean;\n  onCardIndexChanged: (index: number) => void;\n  initialMove: number;\n}\n\nconst ITEM_HEIGHT = 224;\nconst MARGIN = 10;\nconst BASE_ANIMATION_TIME = 0.2; // amount of time to scroll one item\n\nenum Phase {\n  first = 'ease-in',\n  last = 'ease-out',\n  mid = 'linear',\n  firstAndLast = 'ease-in-out'\n}\n\nconst Ring = (props: Props) => {\n  const { \n    disabled,\n    initialMove,\n    onCardIndexChanged \n  } = props;\n\n  const caretRef = useRef(0);\n  const spinning = useRef(false);\n  const ref = useRef<HTMLDivElement>(null);\n\n  const items = useMemo(() => {\n    return shuffle(props.data);\n  }, [props.data]);\n  \n  const update = useCallback((transitionTime: number = BASE_ANIMATION_TIME, phase: Phase = Phase.firstAndLast) => {\n    const parent = ref.current as HTMLDivElement;\n    const caret = caretRef.current;\n    \n    const halfItems = Math.floor(items.length / 2);\n    let counter = 0;\n    for (let i = caret; i < parent.children.length + caret; i++) {\n      let index = i % items.length;\n      if (i < 0) index += items.length;\n      \n      const element = parent.children[index % items.length] as HTMLElement;\n      element.style.transition = `top ${transitionTime}s ${phase}`;\n      \n      // Add animation only to the current card and those above and below\n      if (Math.abs((i - caret) % (items.length - 1)) < 2) {\n        element.style.transition = `top ${transitionTime}s ${phase}`;\n        element.style.visibility = 'visible';\n      }\n      else {\n        element.style.transition = '';\n        element.style.visibility = 'hidden';\n      }\n      \n      if (counter > halfItems) {\n        // Draw above (please dont ask me why this works. it works, allright?)\n        element.style.top = `${halfItems * -(ITEM_HEIGHT + MARGIN) - ((halfItems + (halfItems % 2) - counter) * (ITEM_HEIGHT + MARGIN))}px`;\n      } else {\n        // Draw below\n        element.style.top = `${counter * (ITEM_HEIGHT + MARGIN)}px`;\n      }\n      counter++;\n    }\n  }, [items.length]);\n    \n  const handleClick = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    const element = event.target as HTMLDivElement;\n    const parentNode = (element.parentNode as HTMLElement)!\n    const y = (event.clientY - parentNode.getBoundingClientRect().top);\n    \n    if (y > 1) {\n      goUp();\n    }  else {\n      goDown();\n    }\n  }\n  \n  const goUp = () => {\n    let i = 1;\n    while (cardAtIndexIsDisabled( caretRef.current + i)) {\n      i++;\n      if (i === items.length + 1) {\n        // There is no enabled card left!\n        return;\n      }\n    }\n    move(i);\n  }\n  \n  const goDown = () => {\n    let i = -1;\n\n    while (cardAtIndexIsDisabled( caretRef.current + i)) {\n      i--;\n      if (i === items.length - 1) {\n        // There is no enabled card left!\n        return;\n      }\n    }\n    move(i);\n  }\n  \n  const handleCaretChanged = useCallback(() => {\n    const cardIndex = () => {\n      const index = caretRef.current % items.length;\n      const node = ref.current!.children[index]!;\n      return parseInt(node.getAttribute('original-index')!, 10);\n    };\n\n    onCardIndexChanged(cardIndex());\n  }, [items.length, onCardIndexChanged]);\n\n  const move = useCallback((amount: number = 1) =>  {\n    if (spinning.current) {\n      return;\n    }\n    if (amount === 1 || amount === -1) {\n      caretRef.current += amount;\n      if (caretRef.current < 0)\n      caretRef.current = items.length + caretRef.current;\n\n      spinning.current = true;\n      update(BASE_ANIMATION_TIME, Phase.firstAndLast);\n      setTimeout(() => spinning.current = false, BASE_ANIMATION_TIME * 1000);\n      handleCaretChanged();\n    } else {\n      const goal = caretRef.current + amount;\n      spinning.current = true;\n      const interval = setInterval(() => {\n        if (caretRef.current === goal) {\n          spinning.current = false;\n          clearInterval(interval);\n          return;\n        }\n        caretRef.current += amount / Math.abs(amount);\n        \n        // The ring spins up and down\n        let phase = Phase.mid;\n        let time = BASE_ANIMATION_TIME;\n        if (goal - caretRef.current === Math.abs(amount) - 1) {\n          phase = Phase.first;\n          time /= .75;\n        } else if (caretRef.current === goal) {\n          phase = Phase.last;\n          time /= .75;\n        }\n        update(time, phase);\n        handleCaretChanged();\n\n      }, BASE_ANIMATION_TIME * 1000);\n    }\n  }, [handleCaretChanged, items.length, update]);\n  \n  \n  const cardAtIndexIsDisabled = (index: number) => {\n    if (index < 1) index =+ items.length;\n    index = index % items.length;\n\n    const parentNode = (ref.current as HTMLElement)!\n    const element = parentNode.children[index] as HTMLElement;\n    return element.classList.contains('disabled');\n  }\n  \n  useEffect(() => {\n    update();\n    move(initialMove);\n  }, [initialMove, move, update]);\n  \n  useEffect(() => {\n    if (!disabled || !disabled.length) return;\n    const parentNode = (ref.current as HTMLElement)!\n\n    for (let i = 0; i < parentNode.children.length; i++) {\n      const element = parentNode.children[i] as HTMLElement;\n      const index = parseInt(element.getAttribute('original-index')!, 10);\n      if (disabled.indexOf(index) !== -1) {\n          element.classList.add('disabled');\n      } else {\n          element.classList.remove('disabled');\n      }\n    }\n    move(1);\n  }, [disabled, move]);\n\n  const renderItem = (item: string) => {\n    if (props.image) {\n      return (\n        <div \n        key={item}\n          className=\"item\"\n          style={{\n            backgroundImage: `url(${item})`\n          }}\n          original-index={props.data.indexOf(item)}\n        />\n      );\n    }\n    return (\n      <div \n        key={item}\n        className=\"item\"\n        original-index={props.data.indexOf(item)}\n      >\n        {item.replace(/&shy;/gi, '\\u00AD')}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`ring ${props.className}`} ref={ref} onClick={handleClick}>\n      {items.map((i) => renderItem(i))}\n    </div>\n  )\n}\n\nexport default Ring;\n\nconst shuffle = (originalArray: string[]) => {\n  const array = Object.assign([], originalArray);\n  let currentIndex = array.length;\n  let temporaryValue;\n\n  while (0 !== currentIndex) {\n    const randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n  return array;\n};\n","import React from 'react';\nimport './styles/feedback.scss';\n\ninterface Props {\n  mode: FeedbackMode;\n  onContinue: () => void;\n}\n\nexport enum FeedbackMode {\n  correct = 'correct',\n  wrong = 'wrong'\n}\n\nconst Feedback = (props: Props) => {\n  return (\n    <div className={`feedback ${props.mode}`} >\n      <span>{props.mode}</span>\n      <button className=\"grey button continue\" onClick={props.onContinue}>\n        Continue\n      </button>\n  </div>\n  )\n}\n\nexport default Feedback;","import React from 'react';\nimport { SpinnerData } from '../../data/SpinnerData';\nimport Ring from './Ring';\nimport './styles/spinner.scss';\n\ninterface Props {\n  data: SpinnerData;\n  correct: number[];\n  onClick: () => void;\n  onRing0IndexChanged: (index: number) => void;\n  onRing1IndexChanged: (index: number) => void;\n  onRing2IndexChanged: (index: number) => void;\n}\n\n\nconst Spinner = (props: Props) => {\n  const {\n    correct,\n    onClick,\n    onRing0IndexChanged,\n    onRing1IndexChanged,\n    onRing2IndexChanged\n  } = props;\n\n  return (\n    <div className=\"spinner\" onClick={onClick}>\n      <Ring \n        className=\"ring1\"\n        disabled={correct}\n        initialMove={6}\n        data={props.data.risks} \n        onCardIndexChanged={onRing0IndexChanged}\n        image={true}\n      />\n      <Ring \n        className=\"ring2\" \n        initialMove={9}\n        data={props.data.events} \n        onCardIndexChanged={onRing1IndexChanged}\n        />\n      <Ring \n        className=\"ring3\"\n        initialMove={14}\n        data={props.data.effects} \n        onCardIndexChanged={onRing2IndexChanged}\n      />\n    </div>\n  );\n}\n\nexport default Spinner;","import React from 'react';\n\n\ninterface Props {\n  onClick: () => void;\n}\n\nconst CheckButton = (props: Props) => {\n  return (\n    <button className=\"green button check\" onClick={props.onClick}>\n      Check\n    </button>\n  )\n}\n\nexport default CheckButton;","\nexport const initialState: [number, number, number] = [0, 0, 0];\n\ntype Action =\n | { type: 'updateRing0', index: number }\n | { type: 'updateRing1', index: number }\n | { type: 'updateRing2', index: number }\n\nexport const reducer = (state: [number, number, number], action: Action) => {\n  switch (action.type) {\n    case 'updateRing0':\n      return Object.assign(initialState, state, { 0: action.index });\n    case 'updateRing1':\n      return Object.assign(initialState, state, { 1: action.index });\n    case 'updateRing2':\n      return Object.assign(initialState, state, { 2: action.index });\n  }\n}\n  ","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".a{fill:#fff;}.a,.b{stroke:#283583;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75px;}.b{fill:none;}\"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"title\", null, \"Back\");\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  className: \"a\",\n  cx: 15.02,\n  cy: 15.02,\n  r: 14.65\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"b\",\n  d: \"M11.64,16\",\n  transform: \"translate(-0.97 -0.93)\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"b\",\n  d: \"M11.63,16\",\n  transform: \"translate(-0.97 -0.93)\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"b\",\n  d: \"M20.38,22.88\",\n  transform: \"translate(-0.97 -0.93)\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"line\", {\n  className: \"b\",\n  x1: 19.39,\n  y1: 8.16,\n  x2: 10.65,\n  y2: 15.02\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"line\", {\n  className: \"b\",\n  x1: 19.39,\n  y1: 21.98,\n  x2: 10.65,\n  y2: 15.11\n});\n\nvar SvgClose = function SvgClose(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 30.04,\n    height: 30.04,\n    viewBox: \"0 0 30.04 30.04\",\n    ref: svgRef\n  }, props), _ref2, title === undefined ? _ref3 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClose, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close.7ec0d58f.svg\";\nexport { ForwardRef as ReactComponent };","\nimport React, {  useEffect } from 'react';\nimport './style/styles.css';\nimport { ReactComponent as CloseIcon } from './style/close.svg';\n\ninterface Props {\n    gameDataReceived: (gameData: any) => void;\n}\n\nconst PlayerBridge = (props: Props) => {   \n    const {gameDataReceived} = props;\n\n    const send = (payload: any) => {\n        // @ts-ignore\n        if (window.hasOwnProperty(\"webkit\") && window.webkit.hasOwnProperty(\"messageHandlers\")){\n            var stringifiedMessageObj = JSON.stringify(payload);\n            // Send to In App Browser context\n            // @ts-ignore\n            webkit.messageHandlers.cordova_iab.postMessage(stringifiedMessageObj);\n        }\n        else {\n            // @ts-ignore\n            window.parent.postMessage(payload, '*');\n        }\n    }\n\n    const exit = () => {       \n        send({\n            type: 'exit'\n        });\n    }\n\n    \n    useEffect(() => {\n        if (!process.env.REACT_APP_PLAYER_MODE) {\n            return;\n        }\n        \n        const receiveMessage = (msg: any) => {\n            if (!msg.data.hasOwnProperty('userId')){\n                return;\n            }\n            // @ts-ignore\n            window.GAMEDATA = msg.data;\n            gameDataReceived(msg.data);\n        }\n\n        // @ts-ignore\n        window.setGameData = (gameData) => {\n            send({\n                type: 'setGameData',\n                data: gameData\n            });\n        }\n       \n        // @ts-ignore\n        window.GAMEDATA = null; \n        \n        // @ts-ignore\n        window.getGameData = () => {\n            // @ts-ignore\n            return window.GAMEDATA;\n        }   \n        window.addEventListener(\"message\", receiveMessage, false);\n    }, [gameDataReceived]);\n\n    if (!process.env.REACT_APP_PLAYER_MODE) {\n        return null;\n    }\n\n\n    return (\n        <div className=\"close\">\n            <CloseIcon onClick={exit} />\n        </div>\n    )\n}\n\nexport default PlayerBridge;","import React, { PropsWithChildren } from 'react';\nimport './styles/baseDialog.scss';\n\ninterface Props {\n  className: string;\n}\n\nconst BaseDialog = (props: PropsWithChildren<any>) => {\n  return (\n    <div className={`basedialog ${props.className}`}>\n        {props.children}\n    </div>\n  );\n}\n\nexport default BaseDialog;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\n            .star-empty {\\n                fill: #f8f8f8;\\n                stroke: #b0b0b0;\\n                stroke-width: 3px;\\n            }\\n        \"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"star-empty\",\n  d: \"M67.517,0l21.1,42.2,46.418,6.752L101.275,81.864l7.6,46.418L67.517,106.339,26.163,128.282l7.6-46.418L0,48.95,46.418,42.2Z\",\n  transform: \"translate(3.223 3.354)\"\n});\n\nvar SvgStarEmpty = function SvgStarEmpty(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 141.478,\n    height: 134.378,\n    viewBox: \"0 0 141.478 134.378\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgStarEmpty, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/star-empty.88e9156a.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport BaseDialog from './BaseDialog';\nimport { ReactComponent as StarEmpty } from './../../common/images/star-empty.svg';\nimport './styles/introDialog.scss';\n\ninterface Props {\n  headerText: string;\n  descriptionText: string;\n  starsToGainText: string;\n  startText: string;\n  onStart: () => void;\n}\n\nconst IntroDialog = (props: Props) => {\n  return (\n    <BaseDialog className=\"intro-dialog\">\n      <div className=\"top\">\n        <h1>{props.headerText}</h1>\n      </div>\n      <div className=\"center\">\n        <section>{props.descriptionText}</section>\n      </div>  \n      <div className=\"bottom\">\n        <StarEmpty className=\"star\"/>\n        <span className=\"stars-to-gain\">\n          {props.starsToGainText}\n        </span>\n        <button className=\"green button start\" onClick={props.onStart}>\n          {props.startText}\n        </button>\n      </div>\n    </BaseDialog>\n  );\n}\n\nexport default IntroDialog;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\n            .star-full {\\n                fill: #fcda00;\\n            }\\n        \"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"star-full\",\n  d: \"M67.517,0l21.1,42.2,46.418,6.752L101.275,81.864l7.6,46.418L67.517,106.339,26.163,128.282l7.6-46.418L0,48.95,46.418,42.2Z\"\n});\n\nvar SvgStarFull = function SvgStarFull(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 135.033,\n    height: 128.282,\n    viewBox: \"0 0 135.033 128.282\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgStarFull, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/star-full.78eaf5f9.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useReducer, useCallback, useState, useMemo, useEffect} from 'react';\nimport Spinner from '../Spinner';\nimport './styles/app.scss';\nimport './../styles/common.scss'\nimport { SpinnerData } from '../../data/SpinnerData';\nimport CheckButton from '../CheckButton';\nimport { initialState, reducer } from './reducer';\nimport Feedback, { FeedbackMode } from '../Feedback';\nimport { GameData } from '../playerBridge/GameData';\nimport PlayerBridge from '../playerBridge';\nimport IntroDialog from '../dialogs/IntroDialog';\nimport CompleteDialog from '../dialogs/CompleteDialog';\n\n\nconst data: GameData<SpinnerData> = {\n  'userId': 1,\n  'settings': {\n      'muted': false\n  },\n  'content': {\n      'risks': [\n          'images/aanraking.png',\n          'images/giftige.png',\n          'images/machine.png',\n          'images/snijden.png',\n          'images/spanning.png',\n          'images/vallen.png',\n          'images/zuurstof.png',\n      ],\n      'events': [\n          'Aanraking koude of hete goederen',\n          'Vergiftiging',\n          'Werken met gevaarlijke machines',\n          'Jezelf snijden',\n          'Aanraking geleiders onder spannnig',\n          'Vallen van grote hoogte',\n          'Zuurstof&shy;tekort',\n      ],\n      'effects': [\n          'Brand&shy;wonden of bevriezing',\n          'Inademing giftige stof',\n          'Ernstige verwon&shy;dingen',\n          'Snijwonden',\n          'Brand&shy;wonden en electrocutie',\n          'Verwon&shy;dingen aan het lichaam',\n          'Verstikking',\n      ],\n      'maxStars': 3\n  },\n  'translations': [{\n      'key': 'heartLeft',\n      'value': 'Stop onmiddellijk met werken (eigen veiligheid)'\n  }, {\n      'key': 'intro-header',\n      'value': 'Spinner game'\n  }, {\n      'key': 'intro-start',\n      'value': 'Start'\n  }, {\n      'key': 'intro-description',\n      'value': 'In warehouse there are areas where it is not allowed to walk without helmet, because of danger and accidents. In warehouse there are areas where it is not allowed to walk without helmet, because of danger and accidents.'\n  }, {\n      'key': 'intro-stars-to-gain',\n      'value': '{0} stars to gain'\n  }, {\n      'key': 'stars-to-gain',\n      'value': '{0} stars to gain'\n  }, {\n      'key': 'complete-header',\n      'value': 'Congratulations'\n  }, {\n      'key': 'complete-score',\n      'value': 'Total score {0} / {1}'\n  }, {\n      'key': 'complete-try-again',\n      'value': 'Try again'\n  }, {\n      'key': 'complete-exit',\n      'value': 'Exit'\n  }],\n  'levelsCompleted': [{\n      'level': 1,\n      'score': 2,\n      'maxScore': 2\n  }]\n};\n\nenum GameState {\n  intro = 0,\n  normal = 1 << 1,\n  wrong = 1 << 2,\n  correct = 1 << 3,\n  complete = 1 << 4\n}\n\nconst App = () => {\n  const [state, setState] = useState(GameState.intro);\n  const [correct, setCorrect] = useState<number[]>([]);\n  const [mistakes, setMistakes] = useState(2);\n  const [selectedItems, dispatch] = useReducer(reducer, initialState);\n\n  const handleRing0CardChanged = useCallback((index: number) => {\n    dispatch({ type: 'updateRing0', index});\n  }, []);\n  \n  const handleRing1CardChanged = useCallback((index: number) => {   \n    dispatch({ type: 'updateRing1', index});\n  }, []);\n  \n  const handleRing2CardChanged = useCallback((index: number) => {   \n    dispatch({ type: 'updateRing2', index});\n  }, []);\n\n  \n  const check = () => {\n    if (selectedItems[0] === selectedItems[1] && selectedItems[1] === selectedItems[2]){\n      setState(GameState.correct);\n      setCorrect([...correct, selectedItems[0]]);\n    } else {\n      setState(GameState.wrong);\n      setMistakes(mistakes + 1);\n    }\n  }\n  \n  const handleContinue = () => {   \n    setState(GameState.normal);\n  }\n  const handleStart = () => {   \n    setState(GameState.normal);\n  }\n\n  const handleReset = () => { \n    setState(GameState.normal);\n    setMistakes(0);\n    setCorrect([]);\n  }\n\n  const handleSpinnerClick = () => {\n    setState(GameState.normal);\n  }\n\n  const handleGameDataReceived = (data: GameData<SpinnerData> ) => {\n    //setContent(data.content);\n  }\n\n  useEffect(() => {\n    // Compelete!\n    if(state === GameState.normal && correct.length === data.content.risks.length){\n      setState(GameState.complete);\n    }\n  }, [correct, state]);\n\n  const translations = useMemo(() => {\n    return data.translations.reduce<{[key: string]: string}>((acc, translation) => {\n      acc[translation.key] = translation.value;\n      return acc;\n    }, {})\n  }, [data]);\n\n  return (\n    <>\n      <PlayerBridge gameDataReceived={handleGameDataReceived}/>\n      <div className=\"background\">\n      \n        <div className=\"app-center\">\n          {state === GameState.intro && \n          (<IntroDialog\n            onStart={handleStart}\n            headerText={translations[\"intro-header\"]}\n            descriptionText={translations[\"intro-description\"]}\n            starsToGainText={translations[\"intro-stars-to-gain\"].replace(\"{0}\", data.content.risks.length.toString())}\n            startText={translations[\"intro-start\"]}\n          />)}\n          {state === GameState.complete && \n          (<CompleteDialog\n            onTryAgain={handleReset}\n            onExit={handleStart}\n            total={data.content.risks.length}\n            mistakes={mistakes}\n            headerText={translations[\"complete-header\"]}\n            scoreText={translations[\"complete-score\"]}\n            tryAgainText={translations[\"complete-try-again\"]}\n            exitText={translations[\"complete-exit\"]}\n          />)}\n          {(!!(state & (GameState.normal | GameState.wrong | GameState.correct))) && (\n            <Spinner \n              data={data.content}\n              correct={correct}\n              onClick={handleSpinnerClick}\n              onRing0IndexChanged={handleRing0CardChanged}\n              onRing1IndexChanged={handleRing1CardChanged}\n              onRing2IndexChanged={handleRing2CardChanged}\n            />\n          )}\n          {state === GameState.normal && <CheckButton onClick={check}/>}\n          {state === GameState.correct && <Feedback mode={FeedbackMode.correct} onContinue={handleContinue}/>}\n          {state === GameState.wrong && <Feedback mode={FeedbackMode.wrong} onContinue={handleContinue}/>}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport BaseDialog from './BaseDialog';\nimport { ReactComponent as StarEmpty } from './../../common/images/star-empty.svg';\nimport { ReactComponent as StarFull } from './../../common/images/star-full.svg';\nimport './styles/completeDialog.scss';\n\ninterface Props {\n  headerText: string;\n  scoreText: string;\n  tryAgainText: string;\n  exitText: string;\n  total: number;\n  mistakes: number;\n  onTryAgain: () => void;\n  onExit: () => void;\n}\n\nconst CompleteDialog = (props: Props) => {\n  const { total, mistakes } = props;\n  const score = Math.max(total - mistakes, 0);\n\n  const renderStars = () => {\n    const result = [];\n    for (let i = 0; i < total; i++) {\n      result.push(\n        <div key={`star${i}`}>\n          <StarEmpty />\n          {i < score && (<StarFull className=\"full\"/>)}\n        </div>\n      )\n    }\n    return result;\n  }\n\n  return (\n    <BaseDialog className=\"complete-dialog\">\n      {/* <div className=\"top\">\n        <h1>{props.headerText}</h1>\n      </div>\n      <div className=\"center\">\n        <section>{props.descriptionText}</section>\n    </div>*/}\n      <div className=\"block\">\n        <h1>{props.headerText}</h1>\n      </div>\n      <div className=\"block score\">\n        {props.scoreText\n          .replace(\"{0}\", score.toString())\n          .replace(\"{1}\", total.toString())\n        }\n      </div>\n      <div className=\"block stars\">\n        {renderStars()}\n      </div>\n      <div className=\"bottom\">\n        {/* <StarEmpty className=\"star\"/> */}\n        <button className=\"green button\" onClick={props.onTryAgain}>\n          {props.tryAgainText}\n        </button>\n        <button className=\"red button\" onClick={props.onExit}>\n          {props.exitText}\n        </button>\n      </div>\n    </BaseDialog>\n  );\n}\n\nexport default CompleteDialog;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}