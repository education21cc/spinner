{"version":3,"sources":["components/Spinner/Ring.tsx","components/Feedback/index.tsx","components/Spinner/index.tsx","components/CheckButton.tsx","components/App/reducer.ts","components/playerBridge/style/close.svg","components/playerBridge/index.tsx","components/dialogs/BaseDialog.tsx","common/images/star-empty.svg","components/dialogs/IntroDialog.tsx","common/images/star-full.svg","components/App/index.tsx","components/dialogs/CompleteDialog.tsx","components/playerBridge/Loading/index.tsx","serviceWorker.ts","index.tsx"],"names":["Phase","FeedbackMode","Ring","props","disabled","initialMove","translations","onCardChanged","caretRef","useRef","spinning","ref","items","useMemo","shuffle","data","update","useCallback","transitionTime","phase","firstAndLast","parent","current","caret","halfItems","Math","ceil","length","counter","i","children","index","element","style","transition","setAttribute","abs","visibility","top","goUp","cardAtIndexIsDisabled","move","goDown","handleCaretChanged","getAttribute","cardValue","amount","setTimeout","BASE_ANIMATION_TIME","goal","interval","setInterval","clearInterval","mid","time","first","last","classList","contains","useEffect","parentNode","value","indexOf","add","remove","className","onClick","event","target","clientY","getBoundingClientRect","map","item","image","key","backgroundImage","data-value","text","replace","renderItem","originalArray","temporaryValue","array","Object","assign","currentIndex","randomIndex","floor","random","Spinner","correct","onRing0Changed","onRing1Changed","onRing2Changed","ring1","reduce","acc","push","ring2","ring3","CheckButton","initialState","reducer","state","action","type","0","1","2","Feedback","mode","onContinue","continueText","_extends","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","_ref3","_ref4","cx","cy","r","_ref5","d","transform","_ref6","_ref7","_ref8","x1","y1","x2","y2","_ref9","_ref","svgRef","title","width","height","viewBox","undefined","ForwardRef","forwardRef","PlayerBridge","gameDataReceived","disableBackButton","send","payload","window","webkit","stringifiedMessageObj","JSON","stringify","messageHandlers","cordova_iab","postMessage","GAMEDATA","setGameData","gameData","getGameData","BaseDialog","IntroDialog","headerText","descriptionText","starsToGainText","onStart","startText","GameState","CompleteDialog","total","mistakes","score","max","console","log","setLevelScore","scoreText","toString","result","renderStars","onTryAgain","tryAgainText","onExit","exitText","Loading","App","useState","intro","setState","setData","levelsCompleted","setLevelsCompleted","setTranslations","setCorrect","setMistakes","useReducer","selectedItems","dispatch","loading","setLoading","handleRing0CardChanged","handleRing1CardChanged","handleRing2CardChanged","handleGameDataReceived","content","t","translation","handleContinue","normal","handleStart","complete","currentScore","maxScore","wrong","some","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.70bd7228.chunk.js","sourcesContent":["import React, { useMemo, useRef, useEffect, useCallback } from 'react';\n\ninterface Props {\n  data: string[];\n  translations: {[key: string]: string};\n  disabled?: string[]; // disabled cards\n  className: string;\n  image?: boolean;\n  onCardChanged: (value: string) => void;\n  initialMove: number;\n}\n\nconst ITEM_HEIGHT = 168;\nconst MARGIN = 10;\nconst BASE_ANIMATION_TIME = 0.2; // amount of time to scroll one item\n\nenum Phase {\n  first = 'ease-in',\n  last = 'ease-out',\n  mid = 'linear',\n  firstAndLast = 'ease-in-out'\n}\n\nconst Ring = (props: Props) => {\n  const { \n    disabled,\n    initialMove,\n    translations,\n    onCardChanged \n  } = props;\n\n  const caretRef = useRef(0);\n  const spinning = useRef(false);\n  const ref = useRef<HTMLDivElement>(null);\n\n  const items = useMemo(() => {\n    return shuffle(props.data);\n  }, [props.data]);\n\n  const update = useCallback((transitionTime: number = BASE_ANIMATION_TIME, phase: Phase = Phase.firstAndLast) => {\n    const parent = ref.current as HTMLDivElement;\n    const caret = caretRef.current;\n    \n    const halfItems = Math.ceil(items.length / 2);\n    let counter = 0;\n    // console.log(`caret at: ${caret}`)\n    for (let i = caret; i < parent.children.length + caret; i++) {\n      let index = i % items.length;\n      if (i < 0) index += items.length;\n      // console.log(`index: ${index}`, `counter: ${counter}`, (halfItems-counter + halfItems) * -1, (counter > halfItems))\n      \n      const element = parent.children[index % items.length] as HTMLElement;\n      element.style.transition = `top ${transitionTime}s ${phase}`;\n      element.setAttribute('index', index + '')\n      \n      // Add animation only to the current card and those above and below\n      if (Math.abs((i - caret) % (items.length - 1)) < 2) {\n        element.style.transition = `top ${transitionTime}s ${phase}`;\n        element.style.visibility = 'visible';\n      }\n      else {\n        element.style.transition = '';\n        element.style.visibility = 'hidden';\n      }\n      \n      if (counter > halfItems) {\n        // Draw above (please dont ask me why this works. it works, allright?)\n        element.style.top = `${(-2 * halfItems + counter + items.length % 2) * (ITEM_HEIGHT + MARGIN)}px`;\n      } else {\n        // Draw below\n        element.style.top = `${counter * (ITEM_HEIGHT + MARGIN)}px`;\n      }\n      counter++;\n    }\n  }, [items.length]);\n    \n  const handleClick = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    const element = event.target as HTMLDivElement;\n    const parentNode = (element.parentNode as HTMLElement)!\n    const y = (event.clientY - parentNode.getBoundingClientRect().top);\n    \n    if (y > 1) {\n      goUp();\n    }  else {\n      goDown();\n    }\n  }\n  \n  const goUp = () => {\n    let i = 1;\n    while (cardAtIndexIsDisabled( caretRef.current + i)) {\n      i++;\n      if (i === items.length + 1) {\n        // There is no enabled card left!\n        return;\n      }\n    }\n    move(i);\n  }\n  \n  const goDown = () => {\n    let i = -1;\n\n    while (cardAtIndexIsDisabled( caretRef.current + i)) {\n      i--;\n      if (i === items.length - 1) {\n        // There is no enabled card left!\n        return;\n      }\n    }\n    move(i);\n  }\n  \n  const handleCaretChanged = useCallback(() => {\n    const cardValue = () => {\n      const index = caretRef.current % items.length;\n      const node = ref.current!.children[index]!;\n      return node.getAttribute('data-value')!;\n    };\n\n    onCardChanged(cardValue());\n  }, [items.length, onCardChanged]);\n\n  const move = useCallback((amount: number = 1) =>  {\n    if (spinning.current) {\n      return;\n    }\n    if (Math.abs(amount) === 1) {\n      caretRef.current += amount;\n      if (caretRef.current < 0)\n      caretRef.current = items.length + caretRef.current;\n\n      spinning.current = true;\n      update(BASE_ANIMATION_TIME, Phase.firstAndLast);\n      setTimeout(() => spinning.current = false, BASE_ANIMATION_TIME * 1000);\n      handleCaretChanged();\n    } else {\n      const goal = caretRef.current + amount;\n      spinning.current = true;\n      const interval = setInterval(() => {\n        if (caretRef.current === goal) {\n          spinning.current = false;\n          clearInterval(interval);\n          return;\n        }\n        caretRef.current += amount / Math.abs(amount);\n        \n        // The ring spins up and down\n        let phase = Phase.mid;\n        let time = BASE_ANIMATION_TIME;\n        if (goal - caretRef.current === Math.abs(amount) - 1) {\n          phase = Phase.first;\n          time /= .75;\n        } else if (caretRef.current === goal) {\n          phase = Phase.last;\n          time /= .75;\n        }\n        update(time, phase);\n        handleCaretChanged();\n\n      }, BASE_ANIMATION_TIME * 1000);\n    }\n  }, [handleCaretChanged, items.length, update]);\n  \n  \n  const cardAtIndexIsDisabled = (index: number) => {\n    if (index < 1) index =+ items.length;\n    index = index % items.length;\n\n    const parentNode = (ref.current as HTMLElement)!\n    const element = parentNode.children[index] as HTMLElement;\n    return element.classList.contains('disabled');\n  }\n  \n  useEffect(() => {\n    update();\n    move(initialMove);\n  }, [initialMove, move, update]);\n  \n  useEffect(() => {\n    if (!disabled || !disabled.length) return;\n    const parentNode = (ref.current as HTMLElement)!\n\n    for (let i = 0; i < parentNode.children.length; i++) {\n      const element = parentNode.children[i] as HTMLElement;\n      const value = element.getAttribute('data-value')!;\n      if (disabled.indexOf(value) !== -1) {\n          element.classList.add('disabled');\n      } else {\n          element.classList.remove('disabled');\n      }\n    }\n    move(1);\n  }, [disabled, move]);\n\n  const renderItem = (item: string) => {\n    if (props.image) {\n      return (\n        <div \n        key={item}\n          className=\"item\"\n          style={{\n            backgroundImage: `url(${item})`\n          }}\n          data-value={item}\n        />\n      );\n    }\n    const text = (translations[item] || \"\").replace(/&shy;/gi, '\\u00AD');\n    return (\n      <div \n        key={item}\n        className=\"item\"\n        data-value={item}\n      >\n        {text}\n      </div>\n    );\n  }\n\n  return (\n    <div className={`ring ${props.className}`} ref={ref} onClick={handleClick}>\n      {items.map((i) => renderItem(i))}\n    </div>\n  )\n}\n\nexport default Ring;\n\nconst shuffle = (originalArray: string[]) => {\n  const array = Object.assign([], originalArray);\n  let currentIndex = array.length;\n  let temporaryValue;\n\n  while (0 !== currentIndex) {\n    const randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n  return array;\n};\n","import React, { PropsWithChildren } from 'react';\nimport './styles/feedback.scss';\n\ninterface Props {\n  mode: FeedbackMode;\n  continueText: string;\n  onContinue: () => void;\n}\n\nexport enum FeedbackMode {\n  correct = 'correct',\n  wrong = 'wrong'\n}\n\nconst Feedback = (props: PropsWithChildren<Props>) => {\n  return (\n    <div className={`feedback ${props.mode}`} >\n      <span>{props.children}</span>\n      <button className=\"grey button continue\" onClick={props.onContinue}>\n        {props.continueText}\n      </button>\n  </div>\n  )\n}\n\nexport default Feedback;","import React, { useMemo } from 'react';\nimport { SpinnerData } from '../../data/SpinnerData';\nimport Ring from './Ring';\nimport './styles/spinner.scss';\n\ninterface Props {\n  data: SpinnerData[];\n  correct: string[];\n  translations: {[key: string]: string};\n  onClick: () => void;\n  onRing0Changed: (value: string) => void;\n  onRing1Changed: (value: string) => void;\n  onRing2Changed: (value: string) => void;\n}\n\nconst Spinner = (props: Props) => {\n  const {\n    data,\n    correct,\n    translations,\n    onClick,\n    onRing0Changed,\n    onRing1Changed,\n    onRing2Changed\n  } = props;\n\n  const ring1 = useMemo(() => {\n    return data.reduce((acc: string[], value) => {\n      if (acc.indexOf(value.ring1) === -1) {\n        acc.push(value.ring1);\n      }\n      return acc;\n    }, []);\n  }, [data])\n\n  const ring2 = useMemo(() => {\n    return data.reduce((acc: string[], value) => {\n      if (acc.indexOf(value.ring2) === -1) {\n        acc.push(value.ring2);\n      }\n      return acc;\n    }, []);\n  }, [data])\n\n  const ring3 = useMemo(() => {\n    return data.reduce((acc: string[], value) => {\n      if (acc.indexOf(value.ring3) === -1) {\n        acc.push(value.ring3);\n      }\n      return acc;\n    }, []);\n  }, [data])\n\n  return (\n    <div className=\"spinner\" onClick={onClick}>\n      <Ring \n        className=\"ring1\"\n        disabled={correct}\n        initialMove={6}\n        data={ring1} \n        translations={translations}\n        onCardChanged={onRing0Changed}\n        image={true}\n      />\n      <Ring \n        className=\"ring2\" \n        initialMove={9}\n        data={ring2} \n        translations={translations}\n        onCardChanged={onRing1Changed}\n      />\n      <Ring \n        className=\"ring3\"\n        initialMove={14}\n        data={ring3} \n        translations={translations}\n        onCardChanged={onRing2Changed}\n      />\n    </div>\n  );\n}\n\nexport default Spinner;","import React from 'react';\n\n\ninterface Props {\n  onClick: () => void;\n}\n\nconst CheckButton = (props: Props) => {\n  return (\n    <button className=\"green button check\" onClick={props.onClick}>\n      Check\n    </button>\n  )\n}\n\nexport default CheckButton;","\nexport const initialState: [string, string, string] = [\"\", \"\", \"\"];\n\ntype Action =\n | { type: 'updateRing0', value: string }\n | { type: 'updateRing1', value: string }\n | { type: 'updateRing2', value: string }\n\nexport const reducer = (state: [string, string, string], action: Action) => {\n  switch (action.type) {\n    case 'updateRing0':\n      return Object.assign(initialState, state, { 0: action.value });\n    case 'updateRing1':\n      return Object.assign(initialState, state, { 1: action.value });\n    case 'updateRing2':\n      return Object.assign(initialState, state, { 2: action.value });\n  }\n}\n  ","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".a{fill:#fff;}.a,.b{stroke:#283583;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75px;}.b{fill:none;}\"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"title\", null, \"Back\");\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"circle\", {\n  className: \"a\",\n  cx: 15.02,\n  cy: 15.02,\n  r: 14.65\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"b\",\n  d: \"M11.64,16\",\n  transform: \"translate(-0.97 -0.93)\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"b\",\n  d: \"M11.63,16\",\n  transform: \"translate(-0.97 -0.93)\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"b\",\n  d: \"M20.38,22.88\",\n  transform: \"translate(-0.97 -0.93)\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"line\", {\n  className: \"b\",\n  x1: 19.39,\n  y1: 8.16,\n  x2: 10.65,\n  y2: 15.02\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"line\", {\n  className: \"b\",\n  x1: 19.39,\n  y1: 21.98,\n  x2: 10.65,\n  y2: 15.11\n});\n\nvar SvgClose = function SvgClose(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 30.04,\n    height: 30.04,\n    viewBox: \"0 0 30.04 30.04\",\n    ref: svgRef\n  }, props), _ref2, title === undefined ? _ref3 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgClose, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close.7ec0d58f.svg\";\nexport { ForwardRef as ReactComponent };","import React, {  useEffect } from 'react';\nimport './style/styles.css';\nimport { ReactComponent as CloseIcon } from './style/close.svg';\n\ninterface Props {\n    disableBackButton?: boolean;\n    gameDataReceived: (gameData: any) => void;\n}\n\n// start w  REACT_APP_PLAYER_MODE=true npm start\n// note to attach event listener to postmesssage in index.html\n// it should set window.GAMEDATA\n\nconst PlayerBridge = (props: Props) => {   \n    const {gameDataReceived, disableBackButton} = props;\n\n    const send = (payload: any) => {\n        // @ts-ignore\n        if (window.hasOwnProperty(\"webkit\") && window.webkit.hasOwnProperty(\"messageHandlers\")){\n            var stringifiedMessageObj = JSON.stringify(payload);\n            // Send to In App Browser context\n            // @ts-ignore\n            webkit.messageHandlers.cordova_iab.postMessage(stringifiedMessageObj);\n        }\n        else {\n            // @ts-ignore\n            window.parent.postMessage(payload, '*');\n        }\n    }\n\n    const back = () => {       \n        send({\n            type: 'back'\n        });\n    }\n\n    const exit = () => {       \n        send({\n            type: 'exit'\n        });\n    }\n\n    useEffect(() => {\n        if (!process.env.REACT_APP_PLAYER_MODE) {\n            return;\n        }\n        let interval: NodeJS.Timeout;\n        \n        const check = () => {\n            // @ts-ignore\n            if (window.GAMEDATA) {\n                clearInterval(interval);\n                // @ts-ignore\n                gameDataReceived(window.GAMEDATA);\n            }\n        }\n        // cordova iab just sets window.GAMEDATA\n        interval = setInterval(check, 250);\n\n        // @ts-ignore\n        window.setGameData = (gameData) => {\n            send({\n                type: 'setGameData',\n                data: gameData\n            });\n        }\n               \n        // @ts-ignore\n        window.getGameData = () => {\n            // @ts-ignore\n            return window.GAMEDATA;\n        }   \n\n        return () => {\n            clearInterval(interval);\n        }\n    }, [gameDataReceived]);\n\n    if (!process.env.REACT_APP_PLAYER_MODE) {\n        return null;\n    }\n\n    if (disableBackButton === true) {\n        return null;\n    }\n    return (\n        <div className=\"close\">\n            <CloseIcon onClick={back} />\n        </div>\n    )\n}\n\nexport default PlayerBridge;","import React, { PropsWithChildren } from 'react';\nimport './styles/baseDialog.scss';\n\ninterface Props {\n  className: string;\n}\n\nconst BaseDialog = (props: PropsWithChildren<any>) => {\n  return (\n    <div className={`basedialog ${props.className}`}>\n        {props.children}\n    </div>\n  );\n}\n\nexport default BaseDialog;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\n            .star-empty {\\n                fill: #f8f8f8;\\n                stroke: #b0b0b0;\\n                stroke-width: 3px;\\n            }\\n        \"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"star-empty\",\n  d: \"M67.517,0l21.1,42.2,46.418,6.752L101.275,81.864l7.6,46.418L67.517,106.339,26.163,128.282l7.6-46.418L0,48.95,46.418,42.2Z\",\n  transform: \"translate(3.223 3.354)\"\n});\n\nvar SvgStarEmpty = function SvgStarEmpty(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 141.478,\n    height: 134.378,\n    viewBox: \"0 0 141.478 134.378\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgStarEmpty, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/star-empty.88e9156a.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport BaseDialog from './BaseDialog';\nimport { ReactComponent as StarEmpty } from './../../common/images/star-empty.svg';\nimport './styles/introDialog.scss';\n\ninterface Props {\n  headerText: string;\n  descriptionText: string;\n  starsToGainText: string;\n  startText: string;\n  onStart: () => void;\n}\n\nconst IntroDialog = (props: Props) => {\n  return (\n    <BaseDialog className=\"intro-dialog\">\n      <div className=\"top\">\n        <h1>{props.headerText}</h1>\n      </div>\n      <div className=\"center\">\n        <section>{props.descriptionText}</section>\n      </div>  \n      <div className=\"bottom\">\n        <StarEmpty className=\"star\"/>\n        <span className=\"stars-to-gain\">\n          {props.starsToGainText}\n        </span>\n        <button className=\"green button start\" onClick={props.onStart}>\n          {props.startText}\n        </button>\n      </div>\n    </BaseDialog>\n  );\n}\n\nexport default IntroDialog;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\n            .star-full {\\n                fill: #fcda00;\\n            }\\n        \"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"star-full\",\n  d: \"M67.517,0l21.1,42.2,46.418,6.752L101.275,81.864l7.6,46.418L67.517,106.339,26.163,128.282l7.6-46.418L0,48.95,46.418,42.2Z\"\n});\n\nvar SvgStarFull = function SvgStarFull(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 135.033,\n    height: 128.282,\n    viewBox: \"0 0 135.033 128.282\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgStarFull, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/star-full.78eaf5f9.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useReducer, useCallback, useState, useEffect, useMemo} from 'react';\nimport Spinner from '../Spinner';\nimport { SpinnerData } from '../../data/SpinnerData';\nimport CheckButton from '../CheckButton';\nimport { initialState, reducer } from './reducer';\nimport Feedback, { FeedbackMode } from '../Feedback';\nimport { GameData, Level } from '../playerBridge/GameData';\nimport PlayerBridge from '../playerBridge';\nimport IntroDialog from '../dialogs/IntroDialog';\nimport CompleteDialog from '../dialogs/CompleteDialog';\nimport Loading from '../playerBridge/Loading';\nimport './styles/app.scss';\nimport './../styles/common.scss';\n\n\nenum GameState {\n  intro = 0,\n  normal = 1 << 1,\n  wrong = 1 << 2,\n  correct = 1 << 3,\n  complete = 1 << 4\n}\n\nconst App = () => {\n  const [state, setState] = useState(GameState.intro);\n  const [data, setData] = useState<SpinnerData[]>();\n  const [levelsCompleted, setLevelsCompleted] = useState<Level[]>();\n  const [translations, setTranslations] = useState<{[key: string]: string}>({});\n  const [correct, setCorrect] = useState<string[]>([]);\n  const [mistakes, setMistakes] = useState(0);\n  const [selectedItems, dispatch] = useReducer(reducer, initialState);\n  const [loading, setLoading] = useState(true);\n\n  const handleRing0CardChanged = useCallback((value: string) => {\n    dispatch({ type: 'updateRing0', value});\n  }, []);\n  \n  const handleRing1CardChanged = useCallback((value: string) => {   \n    dispatch({ type: 'updateRing1', value});\n  }, []);\n  \n  const handleRing2CardChanged = useCallback((value: string) => {   \n    dispatch({ type: 'updateRing2', value});\n  }, []);\n\n  const handleGameDataReceived = useCallback((data: GameData<SpinnerData[]> ) => {\n    setData(data.content);\n    setLevelsCompleted(data.levelsCompleted);    \n\n    setLoading(false);\n    if (data.translations){\n      const t = data.translations.reduce<{[key: string]: string}>((acc, translation) => {\n        acc[translation.key] = translation.value;\n        return acc;\n      }, {});\n      setTranslations(t);\n    }\n\n    // console.log(data.translations.map(t => `${t.key}`).join('\\n'))\n    // console.log(data.translations.map(t => t.value).join('\\n'))\n  }, []);\n\n\n  useEffect(() => {\n    // See if we are fed gamedata by 21ccplayer app, if not, go fetch it ourselves\n    if (!process.env.REACT_APP_PLAYER_MODE) {\n      console.log(\"no bridge found, fetching fallback...\")\n      // @ts-ignore \n      fetch(`${process.env.PUBLIC_URL}/config/spinner.json`)\n      .then((response) => {\n        response.json().then((data) => {\n          handleGameDataReceived(data);\n          setLoading(false);\n        })\n      })\n    }\n  }, [handleGameDataReceived]);\n\n  const check = () => {\n    if (!data) return;\n\n    if (data.some((d) => d.ring1 === selectedItems[0] && d.ring2 === selectedItems[1] && d.ring3 === selectedItems[2])){\n      setState(GameState.correct);\n      setCorrect([...correct, selectedItems[0]]);\n    } else {\n      setState(GameState.wrong);\n      setMistakes(mistakes + 1);\n    }\n  }\n  \n  const handleContinue = () => {   \n    setState(GameState.normal);\n  }\n  const handleStart = () => {   \n    setState(GameState.normal);\n  }\n\n  const handleReset = () => { \n    setState(GameState.normal);\n    setMistakes(0);\n    setCorrect([]);\n  }\n\n  const handleSpinnerClick = () => {\n    setState(GameState.normal);\n  }\n\n\n  useEffect(() => {\n    // Complete!\n    if(state === GameState.normal && correct.length === data?.length){\n      setState(GameState.complete);\n    }\n  }, [correct, data, state]);\n\n  const starsToGainText = useMemo<string>(() => {\n    const currentScore = levelsCompleted?.[0]?.score || 0;\n    const maxScore = data?.length || 0;\n    return (\"\" + translations[\"intro-stars-to-gain\"])\n      .replace(\"{0}\", \"\"+currentScore)\n      .replace(\"{1}\", \"\"+maxScore);\n  }, [data, levelsCompleted, translations]);\n\n  return (\n    <>\n      <PlayerBridge gameDataReceived={handleGameDataReceived}/>\n      {(loading) && (          \n        <Loading />\n      )}\n      <div className=\"\">\n        <div className=\"app-center\">\n          {(state === GameState.intro && !!data) &&\n          (<IntroDialog\n            onStart={handleStart}\n            headerText={translations[\"intro-header\"]}\n            descriptionText={translations[\"intro-description\"]}\n            starsToGainText={starsToGainText}\n            startText={translations[\"intro-start\"]}\n          />)}\n          {state === GameState.complete && \n          (<CompleteDialog\n            onTryAgain={handleReset}\n            onExit={handleStart}\n            total={data?.length || 0}\n            mistakes={mistakes}\n            headerText={translations[\"complete-header\"]}\n            scoreText={translations[\"complete-score\"]}\n            tryAgainText={translations[\"complete-try-again\"]}\n            exitText={translations[\"complete-exit\"]}\n          />)}\n          {(data && !!(state & (GameState.normal | GameState.wrong | GameState.correct))) && (\n            <Spinner \n              data={data}\n              correct={correct}\n              translations={translations}\n              onClick={handleSpinnerClick}\n              onRing0Changed={handleRing0CardChanged}\n              onRing1Changed={handleRing1CardChanged}\n              onRing2Changed={handleRing2CardChanged}\n            />\n          )}\n          {state === GameState.normal && <CheckButton onClick={check}/>}\n          {state === GameState.correct && (\n            <Feedback \n              mode={FeedbackMode.correct} \n              onContinue={handleContinue}\n              continueText={translations[\"button-continue\"]}\n            >\n              {translations[\"feedback-correct\"]}asdad\n            </Feedback>\n          )}\n          {state === GameState.wrong && (\n            <Feedback \n              mode={FeedbackMode.wrong} \n              onContinue={handleContinue}\n              continueText={translations[\"button-continue\"]}\n              >\n                {translations[\"feedback-wrong\"]}sdfsdf\n             </Feedback>\n            )}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React, { useEffect } from 'react';\nimport BaseDialog from './BaseDialog';\nimport { ReactComponent as StarEmpty } from './../../common/images/star-empty.svg';\nimport { ReactComponent as StarFull } from './../../common/images/star-full.svg';\nimport './styles/completeDialog.scss';\n\ninterface Props {\n  headerText: string;\n  scoreText: string;\n  tryAgainText: string;\n  exitText: string;\n  total: number;\n  mistakes: number;\n  onTryAgain: () => void;\n  onExit: () => void;\n}\n\nconst CompleteDialog = (props: Props) => {\n  const { total, mistakes } = props;\n  const score = Math.max(total - mistakes, 0);\n  console.log(`mistakes: ${mistakes}`)\n  console.log(`total: ${total}`)\n\n  useEffect(() => {\n    // @ts-ignore\n    if (window.setLevelScore) window.setLevelScore(1, score, total); \n  }, [score, total]);\n\n  const renderStars = () => {\n    const result = [];\n    for (let i = 0; i < total; i++) {\n      result.push(\n        <div key={`star${i}`}>\n          <StarEmpty />\n          {i < score && (<StarFull className=\"full\"/>)}\n        </div>\n      )\n    }\n    return result;\n  }\n\n  return (\n    <BaseDialog className=\"complete-dialog\">\n      {/* <div className=\"top\">\n        <h1>{props.headerText}</h1>\n      </div>\n      <div className=\"center\">\n        <section>{props.descriptionText}</section>\n    </div>*/}\n      <div className=\"block\">\n        <h1>{props.headerText}</h1>\n      </div>\n      <div className=\"block score\">\n        {props.scoreText\n          .replace(\"{0}\", score.toString())\n          .replace(\"{1}\", total.toString())\n        }\n      </div>\n      <div className=\"block stars\">\n        {renderStars()}\n      </div>\n      <div className=\"bottom\">\n        {/* <StarEmpty className=\"star\"/> */}\n        <button className=\"green button\" onClick={props.onTryAgain}>\n          {props.tryAgainText}\n        </button>\n        <button className=\"red button\" onClick={props.onExit}>\n          {props.exitText}\n        </button>\n      </div>\n    </BaseDialog>\n  );\n}\n\nexport default CompleteDialog;","import React from 'react';\nimport './styles/loading.css';\n\nconst Loading = () => {\n    return (\n        <div className=\"loading-background\">\n            <div className=\"white-block\">\n                <div className=\"outset\"></div>\n                <div className=\"blue-block\"></div>\n            </div>\n            <div className=\"subtext\">\n                Stay curious\n            </div>\n        </div>\n    )\n}\n\nexport default Loading;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}