(this.webpackJsonpspinner=this.webpackJsonpspinner||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),c=n(5),o=n.n(c),l=n(6),s=n(2);!function(e){e.first="ease-in",e.last="ease-out",e.mid="linear",e.firstAndLast="ease-in-out"}(a||(a={}));var u,d=function(e){var t=e.disabled,n=e.initialMove,c=e.onCardIndexChanged,o=Object(r.useRef)(0),l=Object(r.useRef)(!1),s=Object(r.useRef)(null),u=Object(r.useMemo)((function(){return m(e.data)}),[e.data]),d=Object(r.useCallback)((function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.firstAndLast,n=s.current,r=o.current,i=Math.floor(u.length/2),c=0,l=r;l<n.children.length+r;l++){var d=l%u.length;l<0&&(d+=u.length);var m=n.children[d%u.length];m.style.transition="top ".concat(e,"s ").concat(t),Math.abs((l-r)%(u.length-1))<2?(m.style.transition="top ".concat(e,"s ").concat(t),m.style.visibility="visible"):(m.style.transition="",m.style.visibility="hidden"),m.style.top="".concat(c>i?-234*i-234*(i+i%2-c):234*c,"px"),c++}}),[u.length]),f=function(){for(var e=1;p(o.current+e);)if(++e===u.length+1)return;h(e)},g=function(){for(var e=-1;p(o.current+e);)if(--e===u.length-1)return;h(e)},v=Object(r.useCallback)((function(){c(function(){var e=o.current%u.length,t=s.current.children[e];return parseInt(t.getAttribute("original-index"),10)}())}),[u.length,c]),h=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!l.current)if(1===e||-1===e)o.current+=e,o.current<0&&(o.current=u.length+o.current),l.current=!0,d(.2,a.firstAndLast),setTimeout((function(){return l.current=!1}),200),v();else{var t=o.current+e;l.current=!0;var n=setInterval((function(){if(o.current===t)return l.current=!1,void clearInterval(n);o.current+=e/Math.abs(e);var r=a.mid,i=.2;t-o.current===Math.abs(e)-1?(r=a.first,i/=.75):o.current===t&&(r=a.last,i/=.75),d(i,r),v()}),200)}}),[v,u.length,d]),p=function(e){return e<1&&(e=+u.length),e%=u.length,s.current.children[e].classList.contains("disabled")};Object(r.useEffect)((function(){d(),h(n)}),[n,h,d]),Object(r.useEffect)((function(){if(t&&t.length){for(var e=s.current,n=0;n<e.children.length;n++){var a=e.children[n],r=parseInt(a.getAttribute("original-index"),10);-1!==t.indexOf(r)?a.classList.add("disabled"):a.classList.remove("disabled")}h(1)}}),[t,h]);return i.a.createElement("div",{className:"ring ".concat(e.className),ref:s,onClick:function(e){var t=e.target.parentNode;e.clientY-t.getBoundingClientRect().top>1?f():g()}},u.map((function(t){return n=t,e.image?i.a.createElement("div",{key:n,className:"item",style:{backgroundImage:"url(".concat(n,")")},"original-index":e.data.indexOf(n)}):i.a.createElement("div",{key:n,className:"item","original-index":e.data.indexOf(n)},n.replace(/&shy;/gi,"\xad"));var n})))},m=function(e){for(var t,n=Object.assign([],e),a=n.length;0!==a;){var r=Math.floor(Math.random()*a);t=n[a-=1],n[a]=n[r],n[r]=t}return n},f=(n(12),function(e){var t=e.correct,n=e.onClick,a=e.onRing0IndexChanged,r=e.onRing1IndexChanged,c=e.onRing2IndexChanged;return i.a.createElement("div",{className:"spinner",onClick:n},i.a.createElement(d,{className:"ring1",disabled:t,initialMove:6,data:e.data.risks,onCardIndexChanged:a,image:!0}),i.a.createElement(d,{className:"ring2",initialMove:9,data:e.data.events,onCardIndexChanged:r}),i.a.createElement(d,{className:"ring3",initialMove:14,data:e.data.effects,onCardIndexChanged:c}))}),g=(n(13),n(14),function(e){return i.a.createElement("button",{className:"green button check",onClick:e.onClick},"Check")}),v=[0,0,0],h=function(e,t){switch(t.type){case"updateRing0":return Object.assign(v,e,{0:t.index});case"updateRing1":return Object.assign(v,e,{1:t.index});case"updateRing2":return Object.assign(v,e,{2:t.index})}};n(15);!function(e){e.correct="correct",e.wrong="wrong"}(u||(u={}));var p=function(e){return i.a.createElement("div",{className:"feedback ".concat(e.mode)},i.a.createElement("span",null,e.mode),i.a.createElement("button",{className:"grey button continue",onClick:e.onContinue},"Continue"))};n(16);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var y=i.a.createElement("defs",null,i.a.createElement("style",null,".a{fill:#fff;}.a,.b{stroke:#283583;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75px;}.b{fill:none;}")),O=i.a.createElement("title",null,"Back"),k=i.a.createElement("circle",{className:"a",cx:15.02,cy:15.02,r:14.65}),w=i.a.createElement("path",{className:"b",d:"M11.64,16",transform:"translate(-0.97 -0.93)"}),x=i.a.createElement("path",{className:"b",d:"M11.63,16",transform:"translate(-0.97 -0.93)"}),j=i.a.createElement("path",{className:"b",d:"M20.38,22.88",transform:"translate(-0.97 -0.93)"}),C=i.a.createElement("line",{className:"b",x1:19.39,y1:8.16,x2:10.65,y2:15.02}),N=i.a.createElement("line",{className:"b",x1:19.39,y1:21.98,x2:10.65,y2:15.11}),T=function(e){var t=e.svgRef,n=e.title,a=E(e,["svgRef","title"]);return i.a.createElement("svg",b({width:30.04,height:30.04,viewBox:"0 0 30.04 30.04",ref:t},a),y,void 0===n?O:n?i.a.createElement("title",null,n):null,k,w,x,j,C,N)},R=i.a.forwardRef((function(e,t){return i.a.createElement(T,b({svgRef:t},e))})),S=(n.p,function(e){var t=e.gameDataReceived,n=function(e){if(window.hasOwnProperty("webkit")&&window.webkit.hasOwnProperty("messageHandlers")){var t=JSON.stringify(e);webkit.messageHandlers.cordova_iab.postMessage(t)}else window.parent.postMessage(e,"*")};return Object(r.useEffect)((function(){if(Object({NODE_ENV:"production",PUBLIC_URL:"/spinner",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PLAYER_MODE){window.setGameData=function(e){n({type:"setGameData",data:e})},window.GAMEDATA=null,window.getGameData=function(){return window.GAMEDATA},window.addEventListener("message",(function(e){e.data.hasOwnProperty("userId")&&(window.GAMEDATA=e.data,t(e.data))}),!1)}}),[t]),Object({NODE_ENV:"production",PUBLIC_URL:"/spinner",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PLAYER_MODE?i.a.createElement("div",{className:"close"},i.a.createElement(R,{onClick:function(){n({type:"exit"})}})):null}),A=(n(17),function(e){return i.a.createElement("div",{className:"basedialog ".concat(e.className)},e.children)});function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var P=i.a.createElement("defs",null,i.a.createElement("style",null,"\n            .star-empty {\n                fill: #f8f8f8;\n                stroke: #b0b0b0;\n                stroke-width: 3px;\n            }\n        ")),_=i.a.createElement("path",{className:"star-empty",d:"M67.517,0l21.1,42.2,46.418,6.752L101.275,81.864l7.6,46.418L67.517,106.339,26.163,128.282l7.6-46.418L0,48.95,46.418,42.2Z",transform:"translate(3.223 3.354)"}),L=function(e){var t=e.svgRef,n=e.title,a=M(e,["svgRef","title"]);return i.a.createElement("svg",I({width:141.478,height:134.378,viewBox:"0 0 141.478 134.378",ref:t},a),n?i.a.createElement("title",null,n):null,P,_)},D=i.a.forwardRef((function(e,t){return i.a.createElement(L,I({svgRef:t},e))})),B=(n.p,n(18),function(e){return i.a.createElement(A,{className:"intro-dialog"},i.a.createElement("div",{className:"top"},i.a.createElement("h1",null,e.headerText)),i.a.createElement("div",{className:"center"},i.a.createElement("section",null,e.descriptionText)),i.a.createElement("div",{className:"bottom"},i.a.createElement(D,{className:"star"}),i.a.createElement("span",{className:"stars-to-gain"},e.starsToGainText),i.a.createElement("button",{className:"green button start",onClick:e.onStart},e.startText)))});function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var H,K=i.a.createElement("defs",null,i.a.createElement("style",null,"\n            .star-full {\n                fill: #fcda00;\n            }\n        ")),V=i.a.createElement("path",{className:"star-full",d:"M67.517,0l21.1,42.2,46.418,6.752L101.275,81.864l7.6,46.418L67.517,106.339,26.163,128.282l7.6-46.418L0,48.95,46.418,42.2Z"}),J=function(e){var t=e.svgRef,n=e.title,a=G(e,["svgRef","title"]);return i.a.createElement("svg",W({width:135.033,height:128.282,viewBox:"0 0 135.033 128.282",ref:t},a),n?i.a.createElement("title",null,n):null,K,V)},U=i.a.forwardRef((function(e,t){return i.a.createElement(J,W({svgRef:t},e))})),z=(n.p,n(19),function(e){var t=e.total,n=e.mistakes,a=Math.max(t-n,0);return i.a.createElement(A,{className:"complete-dialog"},i.a.createElement("div",{className:"block"},i.a.createElement("h1",null,e.headerText)),i.a.createElement("div",{className:"block score"},e.scoreText.replace("{0}",a.toString()).replace("{1}",t.toString())),i.a.createElement("div",{className:"block stars"},function(){for(var e=[],n=0;n<t;n++)e.push(i.a.createElement("div",{key:"star".concat(n)},i.a.createElement(D,null),n<a&&i.a.createElement(U,{className:"full"})));return e}()),i.a.createElement("div",{className:"bottom"},i.a.createElement("button",{className:"green button",onClick:e.onTryAgain},e.tryAgainText),i.a.createElement("button",{className:"red button",onClick:e.onExit},e.exitText)))}),Y={userId:1,settings:{muted:!1},content:{risks:["images/aanraking.png","images/giftige.png","images/machine.png","images/snijden.png","images/spanning.png","images/vallen.png","images/zuurstof.png"],events:["Aanraking koude of hete goederen","Vergiftiging","Werken met gevaarlijke machines","Jezelf snijden","Aanraking geleiders onder spannnig","Vallen van grote hoogte","Zuurstof&shy;tekort"],effects:["Brand&shy;wonden of bevriezing","Inademing giftige stof","Ernstige verwon&shy;dingen","Snijwonden","Brand&shy;wonden en electrocutie","Verwon&shy;dingen aan het lichaam","Verstikking"],maxStars:3},translations:[{key:"heartLeft",value:"Stop onmiddellijk met werken (eigen veiligheid)"},{key:"intro-header",value:"Spinner game"},{key:"intro-start",value:"Start"},{key:"intro-description",value:"In warehouse there are areas where it is not allowed to walk without helmet, because of danger and accidents. In warehouse there are areas where it is not allowed to walk without helmet, because of danger and accidents."},{key:"intro-stars-to-gain",value:"{0} stars to gain"},{key:"stars-to-gain",value:"{0} stars to gain"},{key:"complete-header",value:"Congratulations"},{key:"complete-score",value:"Total score {0} / {1}"},{key:"complete-try-again",value:"Try again"},{key:"complete-exit",value:"Exit"}],levelsCompleted:[{level:1,score:2,maxScore:2}]};!function(e){e[e.intro=0]="intro",e[e.normal=2]="normal",e[e.wrong=4]="wrong",e[e.correct=8]="correct",e[e.complete=16]="complete"}(H||(H={}));var Z=function(){var e=Object(r.useState)(H.intro),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),o=Object(s.a)(c,2),d=o[0],m=o[1],b=Object(r.useState)(2),E=Object(s.a)(b,2),y=E[0],O=E[1],k=Object(r.useReducer)(h,v),w=Object(s.a)(k,2),x=w[0],j=w[1],C=Object(r.useCallback)((function(e){j({type:"updateRing0",index:e})}),[]),N=Object(r.useCallback)((function(e){j({type:"updateRing1",index:e})}),[]),T=Object(r.useCallback)((function(e){j({type:"updateRing2",index:e})}),[]),R=function(){a(H.normal)},A=function(){a(H.normal)};Object(r.useEffect)((function(){n===H.normal&&d.length===Y.content.risks.length&&a(H.complete)}),[d,n]);var I=Object(r.useMemo)((function(){return Y.translations.reduce((function(e,t){return e[t.key]=t.value,e}),{})}),[Y]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(S,{gameDataReceived:function(e){}}),i.a.createElement("div",{className:"background"},i.a.createElement("div",{className:"app-center"},n===H.intro&&i.a.createElement(B,{onStart:A,headerText:I["intro-header"],descriptionText:I["intro-description"],starsToGainText:I["intro-stars-to-gain"].replace("{0}",Y.content.risks.length.toString()),startText:I["intro-start"]}),n===H.complete&&i.a.createElement(z,{onTryAgain:function(){a(H.normal),O(0),m([])},onExit:A,total:Y.content.risks.length,mistakes:y,headerText:I["complete-header"],scoreText:I["complete-score"],tryAgainText:I["complete-try-again"],exitText:I["complete-exit"]}),!!(n&(H.normal|H.wrong|H.correct))&&i.a.createElement(f,{data:Y.content,correct:d,onClick:function(){a(H.normal)},onRing0IndexChanged:C,onRing1IndexChanged:N,onRing2IndexChanged:T}),n===H.normal&&i.a.createElement(g,{onClick:function(){x[0]===x[1]&&x[1]===x[2]?(a(H.correct),m([].concat(Object(l.a)(d),[x[0]]))):(a(H.wrong),O(y+1))}}),n===H.correct&&i.a.createElement(p,{mode:u.correct,onContinue:R}),n===H.wrong&&i.a.createElement(p,{mode:u.wrong,onContinue:R}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.437f2662.chunk.js.map