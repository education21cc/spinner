(this.webpackJsonpspinner=this.webpackJsonpspinner||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),o=n(5),c=n.n(o),l=n(6),s=n(2);!function(e){e.first="ease-in",e.last="ease-out",e.mid="linear",e.firstAndLast="ease-in-out"}(a||(a={}));var u,d=function(e){var t=e.disabled,n=e.initialMove,o=e.onCardIndexChanged,c=Object(r.useRef)(0),l=Object(r.useRef)(!1),s=Object(r.useRef)(null),u=Object(r.useMemo)((function(){return m(e.data)}),[e.data]),d=Object(r.useCallback)((function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.firstAndLast,n=s.current,r=c.current,i=Math.floor(u.length/2),o=0,l=r;l<n.children.length+r;l++){var d=l%u.length;l<0&&(d+=u.length);var m=n.children[d%u.length];m.style.transition="top ".concat(e,"s ").concat(t),Math.abs((l-r)%(u.length-1))<2?(m.style.transition="top ".concat(e,"s ").concat(t),m.style.visibility="visible"):(m.style.transition="",m.style.visibility="hidden"),m.style.top="".concat(o>i?-234*i-234*(i+i%2-o):234*o,"px"),o++}}),[u.length]),f=function(){for(var e=1;p(c.current+e);)if(++e===u.length+1)return;h(e)},g=function(){for(var e=-1;p(c.current+e);)if(--e===u.length-1)return;h(e)},v=Object(r.useCallback)((function(){o(function(){var e=c.current%u.length,t=s.current.children[e];return parseInt(t.getAttribute("original-index"),10)}())}),[u.length,o]),h=Object(r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!l.current)if(1===e||-1===e)c.current+=e,c.current<0&&(c.current=u.length+c.current),l.current=!0,d(.2,a.firstAndLast),setTimeout((function(){return l.current=!1}),200),v();else{var t=c.current+e;l.current=!0;var n=setInterval((function(){if(c.current===t)return l.current=!1,void clearInterval(n);c.current+=e/Math.abs(e);var r=a.mid,i=.2;t-c.current===Math.abs(e)-1?(r=a.first,i/=.75):c.current===t&&(r=a.last,i/=.75),d(i,r),v()}),200)}}),[v,u.length,d]),p=function(e){return e<1&&(e=+u.length),e%=u.length,s.current.children[e].classList.contains("disabled")};Object(r.useEffect)((function(){d(),h(n)}),[n,h,d]),Object(r.useEffect)((function(){if(t&&t.length){for(var e=s.current,n=0;n<e.children.length;n++){var a=e.children[n],r=parseInt(a.getAttribute("original-index"),10);-1!==t.indexOf(r)?a.classList.add("disabled"):a.classList.remove("disabled")}h(1)}}),[t,h]);return i.a.createElement("div",{className:"ring ".concat(e.className),ref:s,onClick:function(e){var t=e.target.parentNode;e.clientY-t.getBoundingClientRect().top>1?f():g()}},u.map((function(t){return n=t,e.image?i.a.createElement("div",{key:n,className:"item",style:{backgroundImage:"url(".concat(n,")")},"original-index":e.data.indexOf(n)}):i.a.createElement("div",{key:n,className:"item","original-index":e.data.indexOf(n)},n.replace(/&shy;/gi,"\xad"));var n})))},m=function(e){for(var t,n=Object.assign([],e),a=n.length;0!==a;){var r=Math.floor(Math.random()*a);t=n[a-=1],n[a]=n[r],n[r]=t}return n},f=(n(12),function(e){var t=e.correct,n=e.onClick,a=e.onRing0IndexChanged,r=e.onRing1IndexChanged,o=e.onRing2IndexChanged;return i.a.createElement("div",{className:"spinner",onClick:n},i.a.createElement(d,{className:"ring1",disabled:t,initialMove:6,data:e.data.risks,onCardIndexChanged:a,image:!0}),i.a.createElement(d,{className:"ring2",initialMove:9,data:e.data.events,onCardIndexChanged:r}),i.a.createElement(d,{className:"ring3",initialMove:14,data:e.data.effects,onCardIndexChanged:o}))}),g=(n(13),n(14),function(e){return i.a.createElement("button",{className:"green button check",onClick:e.onClick},"Check")}),v=[0,0,0],h=function(e,t){switch(t.type){case"updateRing0":return Object.assign(v,e,{0:t.index});case"updateRing1":return Object.assign(v,e,{1:t.index});case"updateRing2":return Object.assign(v,e,{2:t.index})}};n(15);!function(e){e.correct="correct",e.wrong="wrong"}(u||(u={}));var p=function(e){return i.a.createElement("div",{className:"feedback ".concat(e.mode)},i.a.createElement("span",null,e.mode),i.a.createElement("button",{className:"grey button continue",onClick:e.onContinue},"Continue"))};n(16);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var w=i.a.createElement("defs",null,i.a.createElement("style",null,".a{fill:#fff;}.a,.b{stroke:#283583;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75px;}.b{fill:none;}")),E=i.a.createElement("title",null,"Back"),k=i.a.createElement("circle",{className:"a",cx:15.02,cy:15.02,r:14.65}),x=i.a.createElement("path",{className:"b",d:"M11.64,16",transform:"translate(-0.97 -0.93)"}),O=i.a.createElement("path",{className:"b",d:"M11.63,16",transform:"translate(-0.97 -0.93)"}),j=i.a.createElement("path",{className:"b",d:"M20.38,22.88",transform:"translate(-0.97 -0.93)"}),C=i.a.createElement("line",{className:"b",x1:19.39,y1:8.16,x2:10.65,y2:15.02}),N=i.a.createElement("line",{className:"b",x1:19.39,y1:21.98,x2:10.65,y2:15.11}),R=function(e){var t=e.svgRef,n=e.title,a=y(e,["svgRef","title"]);return i.a.createElement("svg",b({width:30.04,height:30.04,viewBox:"0 0 30.04 30.04",ref:t},a),w,void 0===n?E:n?i.a.createElement("title",null,n):null,k,x,O,j,C,N)},T=i.a.forwardRef((function(e,t){return i.a.createElement(R,b({svgRef:t},e))})),A=(n.p,function(e){var t=e.gameDataReceived,n=function(e){if(window.hasOwnProperty("webkit")&&window.webkit.hasOwnProperty("messageHandlers")){var t=JSON.stringify(e);webkit.messageHandlers.cordova_iab.postMessage(t)}else window.parent.postMessage(e,"*")};return Object(r.useEffect)((function(){window.setGameData=function(e){n({type:"setGameData",data:e})},window.setLevelScore=function(e,t){var a,r,i=(null===(a=window.GAMEDATA)||void 0===a?void 0:a.levelsCompleted)||[],o=i.findIndex((function(t){return t.level===e}));o>-1&&i[o].score>t&&(i[o].score=t);var c={levelsCompleted:i,settings:(null===(r=window.GAMEDATA)||void 0===r?void 0:r.settings)||{}};n({type:"setGameData",data:c})},console.log(window.setLevelScore),window.GAMEDATA=null,window.getGameData=function(){return window.GAMEDATA},window.addEventListener("message",(function(e){e.data.hasOwnProperty("userId")&&(window.GAMEDATA=e.data,t(e.data))}),!1)}),[t]),i.a.createElement("div",{className:"close"},i.a.createElement(T,{onClick:function(){n({type:"exit"})}}))}),M=(n(17),function(e){return i.a.createElement("div",{className:"basedialog ".concat(e.className)},e.children)});function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var L=i.a.createElement("defs",null,i.a.createElement("style",null,"\n            .star-empty {\n                fill: #f8f8f8;\n                stroke: #b0b0b0;\n                stroke-width: 3px;\n            }\n        ")),P=i.a.createElement("path",{className:"star-empty",d:"M67.517,0l21.1,42.2,46.418,6.752L101.275,81.864l7.6,46.418L67.517,106.339,26.163,128.282l7.6-46.418L0,48.95,46.418,42.2Z",transform:"translate(3.223 3.354)"}),D=function(e){var t=e.svgRef,n=e.title,a=I(e,["svgRef","title"]);return i.a.createElement("svg",S({width:141.478,height:134.378,viewBox:"0 0 141.478 134.378",ref:t},a),n?i.a.createElement("title",null,n):null,L,P)},G=i.a.forwardRef((function(e,t){return i.a.createElement(D,S({svgRef:t},e))})),B=(n.p,n(18),function(e){return i.a.createElement(M,{className:"intro-dialog"},i.a.createElement("div",{className:"top"},i.a.createElement("h1",null,e.headerText)),i.a.createElement("div",{className:"center"},i.a.createElement("section",null,e.descriptionText)),i.a.createElement("div",{className:"bottom"},i.a.createElement(G,{className:"star"}),i.a.createElement("span",{className:"stars-to-gain"},e.starsToGainText),i.a.createElement("button",{className:"green button start",onClick:e.onStart},e.startText)))});function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function V(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var z,W=i.a.createElement("defs",null,i.a.createElement("style",null,"\n            .star-full {\n                fill: #fcda00;\n            }\n        ")),Z=i.a.createElement("path",{className:"star-full",d:"M67.517,0l21.1,42.2,46.418,6.752L101.275,81.864l7.6,46.418L67.517,106.339,26.163,128.282l7.6-46.418L0,48.95,46.418,42.2Z"}),H=function(e){var t=e.svgRef,n=e.title,a=V(e,["svgRef","title"]);return i.a.createElement("svg",J({width:135.033,height:128.282,viewBox:"0 0 135.033 128.282",ref:t},a),n?i.a.createElement("title",null,n):null,W,Z)},F=i.a.forwardRef((function(e,t){return i.a.createElement(H,J({svgRef:t},e))})),Y=(n.p,n(19),function(e){var t=e.total,n=e.mistakes,a=Math.max(t-n,0);Object(r.useEffect)((function(){window.setLevelScore&&window.setLevelScore(1,a)}),[a]);return i.a.createElement(M,{className:"complete-dialog"},i.a.createElement("div",{className:"block"},i.a.createElement("h1",null,e.headerText)),i.a.createElement("div",{className:"block score"},e.scoreText.replace("{0}",a.toString()).replace("{1}",t.toString())),i.a.createElement("div",{className:"block stars"},function(){for(var e=[],n=0;n<t;n++)e.push(i.a.createElement("div",{key:"star".concat(n)},i.a.createElement(G,null),n<a&&i.a.createElement(F,{className:"full"})));return e}()),i.a.createElement("div",{className:"bottom"},i.a.createElement("button",{className:"green button",onClick:e.onTryAgain},e.tryAgainText),i.a.createElement("button",{className:"red button",onClick:e.onExit},e.exitText)))}),$={userId:1,settings:{muted:!1},content:{risks:["images/aanraking.png","images/giftige.png","images/machine.png","images/snijden.png","images/spanning.png","images/vallen.png","images/zuurstof.png"],events:["Aanraking koude of hete goederen","Vergiftiging","Werken met gevaarlijke machines","Jezelf snijden","Aanraking geleiders onder spannnig","Vallen van grote hoogte","Zuurstof&shy;tekort"],effects:["Brand&shy;wonden of bevriezing","Inademing giftige stof","Ernstige verwon&shy;dingen","Snijwonden","Brand&shy;wonden en electrocutie","Verwon&shy;dingen aan het lichaam","Verstikking"],maxStars:3},translations:[{key:"heartLeft",value:"Stop onmiddellijk met werken (eigen veiligheid)"},{key:"intro-header",value:"Spinner game11"},{key:"intro-start",value:"Start"},{key:"intro-description",value:"In warehouse there are areas where it is not allowed to walk without helmet, because of danger and accidents. In warehouse there are areas where it is not allowed to walk without helmet, because of danger and accidents."},{key:"intro-stars-to-gain",value:"{0} stars to gain"},{key:"stars-to-gain",value:"{0} stars to gain"},{key:"complete-header",value:"Congratulations"},{key:"complete-score",value:"Total score {0} / {1}"},{key:"complete-try-again",value:"Try again"},{key:"complete-exit",value:"Exit"}],levelsCompleted:[{level:1,score:2,maxScore:2}]};!function(e){e[e.intro=0]="intro",e[e.normal=2]="normal",e[e.wrong=4]="wrong",e[e.correct=8]="correct",e[e.complete=16]="complete"}(z||(z={}));var _=function(){var e=Object(r.useState)(z.intro),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)([]),c=Object(s.a)(o,2),d=c[0],m=c[1],b=Object(r.useState)(2),y=Object(s.a)(b,2),w=y[0],E=y[1],k=Object(r.useReducer)(h,v),x=Object(s.a)(k,2),O=x[0],j=x[1],C=Object(r.useCallback)((function(e){j({type:"updateRing0",index:e})}),[]),N=Object(r.useCallback)((function(e){j({type:"updateRing1",index:e})}),[]),R=Object(r.useCallback)((function(e){j({type:"updateRing2",index:e})}),[]),T=function(){a(z.normal)},M=function(){a(z.normal)};Object(r.useEffect)((function(){n===z.normal&&d.length>0&&(a(z.complete),console.log("complete!"))}),[d,n]);var S=Object(r.useMemo)((function(){return $.translations.reduce((function(e,t){return e[t.key]=t.value,e}),{})}),[$]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(A,{gameDataReceived:function(e){}}),i.a.createElement("div",{className:"background"},i.a.createElement("div",{className:"app-center"},n===z.intro&&i.a.createElement(B,{onStart:M,headerText:S["intro-header"],descriptionText:S["intro-description"],starsToGainText:S["intro-stars-to-gain"].replace("{0}",$.content.risks.length.toString()),startText:S["intro-start"]}),n===z.complete&&i.a.createElement(Y,{onTryAgain:function(){a(z.normal),E(0),m([])},onExit:M,total:$.content.risks.length,mistakes:w,headerText:S["complete-header"],scoreText:S["complete-score"],tryAgainText:S["complete-try-again"],exitText:S["complete-exit"]}),!!(n&(z.normal|z.wrong|z.correct))&&i.a.createElement(f,{data:$.content,correct:d,onClick:function(){a(z.normal)},onRing0IndexChanged:C,onRing1IndexChanged:N,onRing2IndexChanged:R}),n===z.normal&&i.a.createElement(g,{onClick:function(){O[0]===O[1]&&O[1]===O[2]?(a(z.correct),m([].concat(Object(l.a)(d),[O[0]]))):(a(z.wrong),E(w+1))}}),n===z.correct&&i.a.createElement(p,{mode:u.correct,onContinue:T}),n===z.wrong&&i.a.createElement(p,{mode:u.wrong,onContinue:T}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.efb99ed7.chunk.js.map